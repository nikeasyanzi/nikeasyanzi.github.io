<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Observability on Craig Yang&#39;s Blog</title>
    <link>https://nikeasyanzi.github.io/tw/tags/observability/</link>
    <description>Recent content in Observability on Craig Yang&#39;s Blog</description>
    <generator>Hugo -- 0.147.9</generator>
    <language>tw</language>
    <copyright>PaperMod Contributors</copyright>
    <lastBuildDate>Fri, 23 Jan 2026 16:43:38 +0800</lastBuildDate>
    <atom:link href="https://nikeasyanzi.github.io/tw/tags/observability/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>可觀測性 Observability</title>
      <link>https://nikeasyanzi.github.io/tw/posts/observability/</link>
      <pubDate>Fri, 23 Jan 2026 16:43:38 +0800</pubDate>
      <guid>https://nikeasyanzi.github.io/tw/posts/observability/</guid>
      <description>&lt;h1 id=&#34;可觀測性-observability&#34;&gt;可觀測性 (Observability)&lt;/h1&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://i.imgur.com/FEPLgvU.png&#34;&gt;
&lt;a href=&#34;https://developer.ibm.com/articles/observability-insights-and-automation/&#34;&gt;來源&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;可觀測性&lt;/strong&gt;是一種實踐方法，透過對系統進行埋點來收集數據，讓你能夠從外部了解系統的內部狀態。&lt;/p&gt;
&lt;p&gt;在現代複雜的環境中，如微服務架構，我們需要分層的可觀測性來幫助我們了解從業務層到底層基礎設施的狀態。可觀測性讓你能夠透過對系統行為提出任意問題，來探索和除錯那些你從未見過的問題（「未知的未知」）。&lt;/p&gt;
&lt;p&gt;上圖金字塔清楚描繪了一個常見的業務場景：從發現服務停止運作，到 IT 團隊需要深入調查事件的過程。&lt;/p&gt;
&lt;p&gt;為了達成這個目標，應用程式必須進行埋點以發送&lt;strong&gt;遙測數據 (Telemetry)&lt;/strong&gt;——關於其效能和行為的數據。這些數據通常被分為三個基礎支柱。&lt;/p&gt;
&lt;h2 id=&#34;可觀測性的三大支柱&#34;&gt;可觀測性的三大支柱&lt;/h2&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://i.imgur.com/OU4NjDB.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://developer.ibm.com/articles/observability-insights-and-automation/&#34;&gt;來源&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;雖然指標、日誌和追蹤常被稱為「三大支柱」，但它們真正的威力在於相互關聯，讓你能夠在它們之間無縫切換來診斷問題。&lt;/p&gt;
&lt;h3 id=&#34;1-指標-metrics發生了什麼&#34;&gt;1. 指標 (Metrics)：「發生了什麼」&lt;/h3&gt;
&lt;p&gt;指標是在一段時間內收集的聚合數值數據。它們非常適合用來快速了解系統的整體健康狀況以及設定警報。例如：CPU 使用率、API 回應時間&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;它們能回答的問題：&lt;/strong&gt;「CPU 使用率是多少？」、「我的 API 錯誤率是多少？」、「我們每秒處理多少請求？」&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;關鍵概念：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;維度 (Dimensionality)：&lt;/strong&gt; 當指標具有維度（也稱為標籤或標記）時會更加強大，維度是提供上下文的鍵值對。例如，不只是 &lt;code&gt;http_requests_total&lt;/code&gt;，你可以有 &lt;code&gt;http_requests_total{method=&amp;quot;POST&amp;quot;, status=&amp;quot;500&amp;quot;}&lt;/code&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;基數 (Cardinality)：&lt;/strong&gt; 這是指維度的唯一組合數量。&lt;strong&gt;高基數&lt;/strong&gt;（例如使用唯一的 &lt;code&gt;userID&lt;/code&gt; 作為維度）對於監控系統的儲存和查詢效率來說是個挑戰。隨著時間序列數量的增長，查詢變得更加消耗計算資源。此外，任何重大事件，例如涉及不可變基礎設施的程式碼發布，都會導致大量同時寫入資料庫的操作。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;典型工具：&lt;/strong&gt; &lt;strong&gt;Prometheus&lt;/strong&gt; 是收集和儲存時間序列指標數據的領先開源工具。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-日誌-logs為什麼發生&#34;&gt;2. 日誌 (Logs)：「為什麼發生」&lt;/h3&gt;
&lt;p&gt;日誌是在特定時間發生的離散事件的帶時間戳、不可變的記錄。日誌提供了關於應用程式或系統內部發生什麼的最詳細、最細緻的上下文。例如：系統錯誤訊息或異常事件&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;它們能回答的問題：&lt;/strong&gt;「為什麼這個特定請求失敗了？」、「確切的錯誤訊息是什麼？」、「導致這次崩潰的事件順序是什麼？」&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;典型工具：&lt;/strong&gt; &lt;strong&gt;Grafana Loki&lt;/strong&gt; 是一個日誌聚合系統，設計目標是成本效益高且易於操作，特別是與 Prometheus 等其他工具整合時。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;3-追蹤-traces在哪裡發生&#34;&gt;3. 追蹤 (Traces)：「在哪裡發生」&lt;/h3&gt;
&lt;p&gt;追蹤代表單一請求在分散式系統中穿越所有不同服務的端到端旅程。Span 追蹤請求發出的特定操作，描繪出在該操作執行期間發生了什麼。&lt;/p&gt;
&lt;p&gt;例如：在 iThome 使用 Facebook 的 SSO（單一登入），一個單純的登入「請求」，可能就橫跨了 iThome 的後端服務、Facebook 的 SSO 後端、iThome 的 Redis，這些衍生出來的請求，與最初的登入請求結合起來呈現的歷程就稱為 Trace&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;它們能回答的問題：&lt;/strong&gt;「這個使用者請求的延遲在哪裡？」、「哪個下游服務造成了瓶頸？」、「這個 API 呼叫通過我們微服務的完整路徑是什麼？」&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
